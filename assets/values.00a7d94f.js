(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const f="editorData",m="customInputValueChangedMSAPIM",c="askForSecretsMSAPIM";function d(t){var r;try{return JSON.parse(decodeURIComponent((r=t.get(f))!==null&&r!==void 0?r:""))}catch(s){return console.error(`Could not get '${f}' from the search params of the URL:
`+self.location,s),{values:{},environment:"error",instanceId:"error"}}}function g(t){return d(t)}function p(){return g(new URLSearchParams(self.location.search))}function h(t){return g(t).values}function S(){return h(new URLSearchParams(self.location.search))}function E(t,r){const s=Object.assign({},t),o=d(r).values;return Object.keys(s).forEach(e=>{const n=o[e];n!=null&&(s[e]=n)}),s}function P(t){return E(t,new URLSearchParams(self.location.search))}function v(t,r,s){Object.entries(s).forEach(([o,e])=>{self.parent.postMessage({[m]:{key:o,value:e,instanceId:r}},t)})}function y(){const{instanceId:t}=p();return r=>v("*",t,r)}async function b(t){let r;return new Promise((o,e)=>{const{instanceId:n,environment:a}=p();r=({data:u})=>{if(!(c in u))return;const i=u[c];(typeof i!="object"||!("managementApiUrl"in i))&&e("Secrets send by Dev Portal are invalid"),o(i)},self.addEventListener("message",r);const l={[c]:{instanceId:n,origin:self.location.origin,targetModule:t}};t==="app"&&a==="development"?self.parent.parent.postMessage(l,"*"):self.parent.postMessage(l,"*")}).finally(()=>self.removeEventListener("message",r))}const O=Object.freeze({label1:"Email",label2:"Message",placeholder:"Write your message here",actionUrl:"https://httpbin.org/post"});export{b as a,y as b,S as c,P as g,O as v};
